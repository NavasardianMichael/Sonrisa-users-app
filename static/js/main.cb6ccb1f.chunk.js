(this["webpackJsonpusers-app"]=this["webpackJsonpusers-app"]||[]).push([[0],{29:function(e,a,t){e.exports=t(44)},43:function(e,a,t){},44:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(14),c=t(9),l=t(3),i=t(26),o=t(11),u=t(4),m={users:[],fetchedPagesNumbers:[],usersToShow:[],usersCountPerPage:24,availablePagesCount:5,subscriptions:[]};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"DATA/SET_PAGE_USERS":return Object(u.a)(Object(u.a)({},e),{},{users:[].concat(Object(o.a)(e.users),[a.usersByPage]),fetchedPagesNumbers:[].concat(Object(o.a)(e.fetchedPagesNumbers),[a.usersByPage.info.page])});case"DATA/SET_PAGE_USERS_TO_SHOW":return Object(u.a)(Object(u.a)({},e),{},{usersToShow:a.usersToShow});case"DATA/ADD_SUBSCRIPTION":return Object(u.a)(Object(u.a)({},e),{},{usersToShow:e.usersToShow.map((function(e){return e.login.uuid===a.newSubscription.login.uuid&&(e.subscribed=!0),e})),subscriptions:[].concat(Object(o.a)(e.subscriptions),[a.newSubscription])});case"DATA/REMOVE_SUBSCRIPTION":return Object(u.a)(Object(u.a)({},e),{},{usersToShow:e.usersToShow.map((function(e){return e.login.uuid===a.userId&&(e.subscribed=!1),e})),subscriptions:e.subscriptions.filter((function(e){return e.login.uuid!==a.userId}))});default:return e}},b={loading:!1};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"DATA/SHOW_PRELOADER":return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case"DATA/HIDE_PRELOADER":return Object(u.a)(Object(u.a)({},e),{},{loading:!1});default:return e}},p=Object(c.c)({app:g,data:d}),E=t(8);var v=function(){return document.addEventListener("DOMContentLoaded",(function(){var e;e=".nav-item",document.querySelectorAll(e).forEach((function(a){a.addEventListener("click",(function(a){document.querySelector("".concat(e,".active"))&&document.querySelector("".concat(e,".active")).classList.toggle("active"),a.target.classList.toggle("active")}))}))})),r.a.createElement("div",{id:"header"},r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light"},r.a.createElement(E.b,{className:"navbar-brand text-center",to:"/"},r.a.createElement("img",{src:"/Sonrisa-users-app/logo.png",alt:"logo",width:"40"}),r.a.createElement("br",null),"Sonrisa"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarMenu","aria-controls":"navbarMenu","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarMenu"},r.a.createElement("div",{className:"navbar-nav w-100"},r.a.createElement(E.b,{className:"nav-item nav-Link mx-2 px-3",to:"/users"},"users"),r.a.createElement(E.b,{className:"nav-item nav-Link mx-2 px-3",to:"/subscriptions"},"subscriptions"),r.a.createElement(E.b,{className:"nav-item nav-Link mx-2 px-3",to:"/filteredUsers"},"filtered users")))))},f=t(1);function h(e){return{type:"DATA/SET_PAGE_USERS_TO_SHOW",usersToShow:e}}function N(e,a){return function(t){t({type:"DATA/SHOW_PRELOADER"}),fetch("https://randomuser.me/api/?page=".concat(e,"&results=").concat(a,"&seed=page-").concat(e)).then((function(e){return e.json()})).then((function(e){e.results.forEach((function(e){return e.subscribed=!1})),t({type:"DATA/SET_PAGE_USERS",usersByPage:e}),t(h(e.results)),t({type:"DATA/HIDE_PRELOADER"})}))}}function S(e){return{type:"DATA/ADD_SUBSCRIPTION",newSubscription:e}}function O(e){return{type:"DATA/REMOVE_SUBSCRIPTION",userId:e}}var P=t(28);var w=Object(l.b)((function(e){return{users:e.data.users,availablePagesCount:e.data.availablePagesCount,usersCountPerPage:e.data.usersCountPerPage,fetchedPagesNumbers:e.data.fetchedPagesNumbers}}),null)((function(e){var a=Object(n.useState)([]),t=Object(P.a)(a,2),s=t[0],c=t[1],i=Object(l.c)();function u(a){!function(e,a){document.querySelector("".concat(a,".active"))&&document.querySelector("".concat(a,".active")).classList.toggle("active"),e.target.classList.toggle("active")}(a,".page-link");var t=Number(a.target.dataset.pagenumber);e.fetchedPagesNumbers.includes(t)?i(h(e.users.find((function(e){return e.info.page===t})).results)):i(N(t,e.usersCountPerPage))}Object(n.useEffect)((function(){for(var a=function(e){c((function(a){return[].concat(Object(o.a)(a),[e])}))},t=1;t<=e.availablePagesCount;t++)a(t)}),[]);var m=s.map((function(e,a){return r.a.createElement("li",{className:"page-item",key:"pagination-item-".concat(e)},r.a.createElement("button",{className:"page-link btn",onClick:u,"data-pagenumber":e},e))}));return r.a.createElement("div",{className:"pagination my-2"},r.a.createElement("nav",{"aria-label":"Page navigation",className:"mx-auto"},r.a.createElement("ul",{className:"pagination"},m)))}));var T=function(e){var a=Object(l.c)();function t(t){e.user.subscribed?a(O(e.user.login.uuid)):a(S(e.user))}return r.a.createElement("div",{className:"user-item"},r.a.createElement("div",{className:"card bg-light"},r.a.createElement("img",{className:"card-img-top w-100",src:e.user.picture.large,alt:"".concat(e.user.name.first," ").concat(e.user.name.last),title:"".concat(e.user.name.first," ").concat(e.user.name.last)}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-text text-center"},"".concat(e.user.name.first," ").concat(e.user.name.last)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(E.b,{className:"mt-3 py-1 btn btn-primary",to:"/users/".concat(e.user.login.username)},"to profile")),r.a.createElement("div",{className:"col-md-4 text-right"},e.user.subscribed?r.a.createElement("button",{className:"mt-3 p-1 btn",onClick:t},r.a.createElement("img",{src:"/Sonrisa-users-app/images/unsubscribe.png",alt:"unsubscribe",title:"unsubscribe"})):r.a.createElement("button",{className:"mt-3 p-1 btn",onClick:t},r.a.createElement("img",{src:"/Sonrisa-users-app/images/subscribe.png",alt:"subscribe",title:"subscribe"})))))))};var A=function(){return r.a.createElement("div",{className:"preloader spinner-border text-info text-center",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))};var y=Object(l.b)((function(e){return{users:e.data.users,usersToShow:e.data.usersToShow,usersCountPerPage:e.data.usersCountPerPage,fetchedPagesNumbers:e.data.fetchedPagesNumbers,loading:e.app.loading}}),null)((function(e){var a=Object(l.c)();Object(n.useEffect)((function(){e.fetchedPagesNumbers.includes(1)?a(h(e.users.find((function(e){return 1===e.info.page})).results)):a(N(1,e.usersCountPerPage))}),[]);var t=e.usersToShow.map((function(e){return r.a.createElement("div",{className:"my-2 col-6 col-md-4 col-lg-3 col-xl-2",key:e.login.uuid},r.a.createElement(T,{user:e}))}));return r.a.createElement("div",{className:"users"},r.a.createElement(w,null),r.a.createElement("div",{className:"row"},e.loading?r.a.createElement(A,null):t))}));var j=Object(l.b)((function(e){return{subscriptions:e.data.subscriptions}}),null)((function(e){var a=0===e.subscriptions.length?r.a.createElement("h4",{className:"text-secondary text-center"},"There are no subscriptions now"):e.subscriptions.map((function(e){return r.a.createElement("div",{className:"my-2 col-6 col-md-4 col-lg-3 col-xl-2",key:e.login.uuid},r.a.createElement(T,{user:e}))}));return r.a.createElement("div",{className:"subscriptions"},r.a.createElement("div",{className:"row"},a))}));var D=function(){return r.a.createElement("div",{className:"filtered-users"},r.a.createElement("h1",null,"Filtered Users"))};var x=Object(l.b)((function(e){return{usersToShow:e.data.usersToShow}}),null)((function(e){var a=Object(f.g)(),t=Object(l.c)(),n=e.usersToShow.find((function(e){return e.login.username===a.params.username}));function s(e){n.subscribed?t(O(n.login.uuid)):t(S(n))}return n?r.a.createElement("div",{className:"user-page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"main-block"},r.a.createElement("img",{src:n.picture.large,className:"user-picture",alt:"user",title:"user"}),r.a.createElement("h4",{className:"username"},n.name.first," ",n.name.last," (",n.login.username,")"),n.subscribed?r.a.createElement("button",{className:"p-2 w-100 btn btn-danger",onClick:s},r.a.createElement("span",null,"Unsubscribe")," "):r.a.createElement("button",{className:"p-2 w-100 btn btn-success",onClick:s},r.a.createElement("span",null,"Subscribe")))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"info"},r.a.createElement("p",null,r.a.createElement("img",{src:"/Sonrisa-users-app/images/gender.png",alt:"gender",title:"gender"}),"gender: ",n.gender),r.a.createElement("p",null,r.a.createElement("img",{src:"/Sonrisa-users-app/images/location.png",alt:"location",title:"location"}),"address: ",n.location.country,", ",n.location.state,", ",n.location.city,", ",n.location.street.name," ",n.location.street.number),r.a.createElement("p",null,r.a.createElement("img",{src:"/Sonrisa-users-app/images/age.png",alt:"age",title:"age"}),"birthday/age: ",n.dob.date.slice(0,10)," / ",n.dob.age," years old"),r.a.createElement("p",null,r.a.createElement("img",{src:"/Sonrisa-users-app/images/registered-date.png",alt:"registered date",title:"registered date"}),"registered: ",n.registered.date.slice(0,10)),r.a.createElement("p",null,r.a.createElement("img",{src:"/Sonrisa-users-app/images/phone.png",alt:"phone number",title:"phone number"}),"phone number: ",n.cell),r.a.createElement("p",null,r.a.createElement("img",{src:"/Sonrisa-users-app/images/email.png",alt:"email",title:"email"}),"email: ",n.email))))):r.a.createElement(f.a,{to:"/users"})}));var C=function(e){return e.match,r.a.createElement("div",{id:"content"},r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/users",exact:!0,component:y}),r.a.createElement(f.b,{path:"/subscriptions",component:j}),r.a.createElement(f.b,{path:"/filteredUsers",component:D}),r.a.createElement(f.b,{path:"/",exact:!0,component:y}),r.a.createElement(f.b,{path:"/users/:username",component:x})))};var _=function(){return r.a.createElement("div",{id:"footer"},r.a.createElement("nav",{className:"navbar navbar-light py-4 bg-light"},"Done With Love"))};t(43);var k=function(){return r.a.createElement(E.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement(C,null),r.a.createElement(_,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=Object(c.d)(p,Object(c.a)(i.a)),L=r.a.createElement(l.a,{store:R},r.a.createElement(k,null));window.store=R,Object(s.render)(L,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.cb6ccb1f.chunk.js.map