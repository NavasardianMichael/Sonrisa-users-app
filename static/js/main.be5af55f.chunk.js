(this["webpackJsonpusers-app"]=this["webpackJsonpusers-app"]||[]).push([[0],{30:function(e,a,t){e.exports=t(45)},44:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(15),s=t(9),l=t(1),o=t(28),i=t(11),u=t(3),m={users:[],fetchedPagesNumbers:[],usersToShow:[],filteredUsersToShow:[],usersCountPerPage:24,availablePagesCount:5,subscriptions:[],nationalities:["AU","BR","CA","CH","DE","DK","ES","FI","FR","GB","IE","IR","NO","NL","NZ","TR","US"]};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"DATA/SET_PAGE_USERS":return Object(u.a)(Object(u.a)({},e),{},{users:[].concat(Object(i.a)(e.users),[a.usersByPage]),fetchedPagesNumbers:[].concat(Object(i.a)(e.fetchedPagesNumbers),[a.usersByPage.info.page])});case"DATA/SET_PAGE_USERS_TO_SHOW":return Object(u.a)(Object(u.a)({},e),{},{usersToShow:a.usersToShow});case"DATA/SET_FILTERED_USERS_TO_SHOW":return Object(u.a)(Object(u.a)({},e),{},{filteredUsersToShow:a.usersToShow});case"DATA/ADD_SUBSCRIPTION":return Object(u.a)(Object(u.a)({},e),{},{usersToShow:e.usersToShow.map((function(e){return e.login.uuid===a.newSubscription.login.uuid&&(e.subscribed=!0),e})),filteredUsersToShow:e.filteredUsersToShow.map((function(e){return e.login.uuid===a.newSubscription.login.uuid&&(e.subscribed=!0),e})),subscriptions:[].concat(Object(i.a)(e.subscriptions),[a.newSubscription])});case"DATA/REMOVE_SUBSCRIPTION":return Object(u.a)(Object(u.a)({},e),{},{usersToShow:e.usersToShow.map((function(e){return e.login.uuid===a.userId&&(e.subscribed=!1),e})),filteredUsersToShow:e.filteredUsersToShow.map((function(e){return e.login.uuid===a.userId&&(e.subscribed=!1),e})),subscriptions:e.subscriptions.filter((function(e){return e.login.uuid!==a.userId}))});default:return e}},b={loading:!1,darkTheme:!1};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"APP/SHOW_PRELOADER":return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case"APP/HIDE_PRELOADER":return Object(u.a)(Object(u.a)({},e),{},{loading:!1});case"APP/TOGGLE_THEME":return Object(u.a)(Object(u.a)({},e),{},{darkTheme:!e.darkTheme});default:return e}},p=Object(s.c)({app:g,data:d}),E=t(8);function h(e){return{type:"DATA/SET_PAGE_USERS_TO_SHOW",usersToShow:e}}function f(e,a){return function(t){t({type:"APP/SHOW_PRELOADER"}),fetch("https://randomuser.me/api/?page=".concat(e,"&results=").concat(a,"&seed=page-").concat(e)).then((function(e){return e.json()})).then((function(e){e.results.forEach((function(e){return e.subscribed=!1})),t({type:"DATA/SET_PAGE_USERS",usersByPage:e}),t(h(e.results)),t({type:"APP/HIDE_PRELOADER"})}))}}function v(e){return{type:"DATA/ADD_SUBSCRIPTION",newSubscription:e}}function N(e){return{type:"DATA/REMOVE_SUBSCRIPTION",userId:e}}var S=Object(l.b)((function(e){return{darkTheme:e.app.darkTheme}}),null)((function(e){var a=Object(l.c)();return document.addEventListener("DOMContentLoaded",(function(){var e;e=".nav-item",document.querySelectorAll(e).forEach((function(a){a.addEventListener("click",(function(a){document.querySelector("".concat(e,".active"))&&document.querySelector("".concat(e,".active")).classList.toggle("active"),a.target.classList.toggle("active")}))}))})),r.a.createElement("div",{id:"header"},r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-".concat(!0===e.darkTheme?"dark":"light"," bg-").concat(!0===e.darkTheme?"dark":"light")},r.a.createElement(E.b,{className:"navbar-brand text-center",to:"/"},r.a.createElement("img",{src:"/Sonrisa-users-app/logo.png",alt:"logo",width:"40"}),r.a.createElement("br",null),"Sonrisa"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarMenu","aria-controls":"navbarMenu","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarMenu"},r.a.createElement("div",{className:"navbar-nav w-100"},r.a.createElement(E.b,{className:"nav-item nav-Link mx-2 px-3",to:"/users"},"users"),r.a.createElement(E.b,{className:"nav-item nav-Link mx-2 px-3",to:"/subscriptions"},"subscriptions"),r.a.createElement(E.b,{className:"nav-item nav-Link mx-2 px-3",to:"/filteredUsers"},"filtered users"),r.a.createElement("button",{className:"mt-1 text-capitalize ml-auto btn btn-outline-".concat(!0===e.darkTheme?"light":"secondary"),onClick:function(){a({type:"APP/TOGGLE_THEME"})}},"change theme")))))})),O=t(2),T=t(12);var k=Object(l.b)((function(e){return{users:e.data.users,availablePagesCount:e.data.availablePagesCount,usersCountPerPage:e.data.usersCountPerPage,fetchedPagesNumbers:e.data.fetchedPagesNumbers}}),null)((function(e){var a=Object(n.useState)([]),t=Object(T.a)(a,2),c=t[0],s=t[1],o=Object(l.c)();function u(a){!function(e,a){document.querySelector("".concat(a,".active"))&&document.querySelector("".concat(a,".active")).classList.toggle("active"),e.target.classList.toggle("active")}(a,".page-link");var t=Number(a.target.dataset.pagenumber);e.fetchedPagesNumbers.includes(t)?o(h(e.users.find((function(e){return e.info.page===t})).results)):o(f(t,e.usersCountPerPage))}Object(n.useEffect)((function(){for(var a=function(e){s((function(a){return[].concat(Object(i.a)(a),[e])}))},t=1;t<=e.availablePagesCount;t++)a(t)}),[]);var m=c.map((function(e,a){return r.a.createElement("li",{className:"page-item",key:"pagination-item-".concat(e)},r.a.createElement("button",{className:"page-link btn",onClick:u,"data-pagenumber":e},e))}));return r.a.createElement("div",{className:"pagination my-2"},r.a.createElement("nav",{"aria-label":"Page navigation",className:"mx-auto"},r.a.createElement("ul",{className:"pagination"},m)))}));var P=function(e){var a=Object(O.g)(),t=Object(l.c)();function n(a){e.user.subscribed?t(N(e.user.login.uuid)):t(v(e.user))}return r.a.createElement("div",{className:"user-item"},r.a.createElement("div",{className:"card bg-".concat(!0===e.darkTheme?"dark":"light")},r.a.createElement("img",{className:"card-img-top w-100",src:e.user.picture.large,alt:"".concat(e.user.name.first," ").concat(e.user.name.last),title:"".concat(e.user.name.first," ").concat(e.user.name.last)}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-text text-center"},"".concat(e.user.name.first," ").concat(e.user.name.last)),r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col"},r.a.createElement(E.b,{className:"mt-3 py-1 btn btn-outline-".concat(!0===e.darkTheme?"light":"secondary"),to:"".concat(a.url,"/").concat(e.user.login.username)},"to profile")),r.a.createElement("div",{className:"col-sm-4"},e.user.subscribed?r.a.createElement("button",{className:"mt-3 p-1 btn",onClick:n},r.a.createElement("img",{src:"/Sonrisa-users-app/images/unsubscribe.png",alt:"unsubscribe",title:"unsubscribe"})):r.a.createElement("button",{className:"mt-3 p-1 btn",onClick:n},r.a.createElement("img",{src:"/Sonrisa-users-app/images/subscribe.png",alt:"subscribe",title:"subscribe"})))))))};var w=function(){return r.a.createElement("div",{className:"preloader spinner-border text-info text-center",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))};var y=Object(l.b)((function(e){return{users:e.data.users,usersToShow:e.data.usersToShow,usersCountPerPage:e.data.usersCountPerPage,fetchedPagesNumbers:e.data.fetchedPagesNumbers,loading:e.app.loading}}),null)((function(e){var a=Object(l.c)();Object(n.useEffect)((function(){e.fetchedPagesNumbers.includes(1)?a(h(e.users.find((function(e){return 1===e.info.page})).results)):a(f(1,e.usersCountPerPage))}),[]);var t=e.usersToShow.map((function(e){return r.a.createElement("div",{className:"my-2 col-6 col-md-4 col-lg-3 col-xl-2",key:e.login.uuid},r.a.createElement(P,{user:e}))}));return r.a.createElement("div",{className:"users"},r.a.createElement(k,null),r.a.createElement("div",{className:"row"},e.loading?r.a.createElement(w,null):t))}));var j=Object(l.b)((function(e){return{subscriptions:e.data.subscriptions}}),null)((function(e){var a=0===e.subscriptions.length?r.a.createElement("h4",{className:"w-100 my-3 text-center"},"There are no subscriptions now"):e.subscriptions.map((function(e){return r.a.createElement("div",{className:"my-2 col-6 col-md-4 col-lg-3 col-xl-2",key:e.login.uuid},r.a.createElement(P,{user:e}))}));return r.a.createElement("div",{className:"subscriptions"},r.a.createElement("div",{className:"row"},a))})),A=t(17);var C=Object(l.b)((function(e){return{nationalities:e.data.nationalities,filteredUsersToShow:e.data.filteredUsersToShow,darkTheme:e.app.darkTheme}}),(function(e){return{fetchUsersByCriteria:function(a){return e((t=a,function(e){var a=Object.keys(t.checkedNationalities).toString();e({type:"APP/SHOW_PRELOADER"}),fetch("https://randomuser.me/api/?gender=".concat(t.gender,"&nat=").concat(a,"&results=").concat(t.filteredUsersCount)).then((function(e){return e.json()})).then((function(a){a.results.forEach((function(e){return e.subscribed=!1})),e({type:"DATA/SET_FILTERED_USERS_TO_SHOW",usersToShow:a.results}),console.log(a.results),e({type:"APP/HIDE_PRELOADER"})}))}));var t}}}))((function(e){var a=Object(n.useState)(""),t=Object(T.a)(a,2),c=t[0],s=t[1],l=Object(n.useState)({}),o=Object(T.a)(l,2),i=o[0],m=o[1],d=Object(n.useState)(1),b=Object(T.a)(d,2),g=b[0],p=b[1];function E(e){s(e.target.value)}function h(e){var a=e.target.value;m((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(A.a)({},a,!e[a]))}))}function f(e){p(e.target.value)}var v=e.nationalities.map((function(e){return r.a.createElement("div",{className:"form-check-inline my-1 mr-0 w-25",key:e},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"nat-".concat(e),value:e,onChange:h,checked:i.item}),r.a.createElement("label",{className:"form-check-label",htmlFor:"nat-".concat(e)},e))})),N=e.filteredUsersToShow.map((function(e){return r.a.createElement("div",{className:"my-2 col-6 col-md-4 col-lg-3 col-xl-2",key:e.login.uuid},r.a.createElement(P,{user:e}))}));return r.a.createElement("div",{className:"filtered-users"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3 border-right"},r.a.createElement("h6",{className:"mt-3 mb-1"},"Gender"),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"gender",id:"maleControl",value:"male",onChange:E,checked:"male"===c}),r.a.createElement("label",{className:"form-check-label",htmlFor:"maleControl"},"Male")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"gender",id:"femaleControl",value:"female",onChange:E,checked:"female"===c}),r.a.createElement("label",{className:"form-check-label",htmlFor:"femaleControl"},"Female")),r.a.createElement("h6",{className:"mt-3 mb-1"},"Nationalities"),v,r.a.createElement("h6",{className:"mt-3 mb-1"},"Users count to show"),r.a.createElement("input",{type:"number",className:"form-control my-2",placeholder:"0",value:g,onChange:f}),r.a.createElement("div",{className:"form-group my-2"},r.a.createElement("input",{type:"range",min:"1",max:"30",className:"form-control-range",value:g,onChange:f})),r.a.createElement("button",{className:"btn btn-primary px-4 my-3 mx-auto d-block",onClick:function(){var a={gender:c,checkedNationalities:i,filteredUsersCount:g};Object.keys(a.checkedNationalities).forEach((function(e){!1===a.checkedNationalities[e]&&delete a.checkedNationalities[e]})),e.fetchUsersByCriteria(a)}},"Search")),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"row"},N))))}));var U=Object(l.b)((function(e){return{usersToShow:e.data.usersToShow,filteredUsersToShow:e.data.filteredUsersToShow}}),null)((function(e){var a=Object(O.g)(),t=Object(l.c)(),n=e.usersToShow.find((function(e){return e.login.username===a.params.username}))||e.filteredUsersToShow.find((function(e){return e.login.username===a.params.username}));function c(e){n.subscribed?t(N(n.login.uuid)):t(v(n))}return n?r.a.createElement("div",{className:"user-page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"main-block"},r.a.createElement("img",{src:n.picture.large,className:"user-picture",alt:"user",title:"user"}),r.a.createElement("h4",{className:"username"},n.name.first," ",n.name.last," (",n.login.username,")"),n.subscribed?r.a.createElement("button",{className:"p-2 w-100 btn btn-danger",onClick:c},r.a.createElement("span",null,"Unsubscribe")," "):r.a.createElement("button",{className:"p-2 w-100 btn btn-success",onClick:c},r.a.createElement("span",null,"Subscribe")))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"info"},r.a.createElement("p",null,r.a.createElement("img",{src:"/Sonrisa-users-app/images/gender.png",alt:"gender",title:"gender"}),"gender: ",n.gender),r.a.createElement("p",null,r.a.createElement("img",{src:"/Sonrisa-users-app/images/location.png",alt:"location",title:"location"}),"address: ",n.location.country,", ",n.location.state,", ",n.location.city,", ",n.location.street.name," ",n.location.street.number),r.a.createElement("p",null,r.a.createElement("img",{src:"/Sonrisa-users-app/images/age.png",alt:"age",title:"age"}),"birthday/age: ",n.dob.date.slice(0,10),"/",n.dob.age," years old"),r.a.createElement("p",null,r.a.createElement("img",{src:"/Sonrisa-users-app/images/registered-date.png",alt:"registered date",title:"registered date"}),"registered: ",n.registered.date.slice(0,10)),r.a.createElement("p",null,r.a.createElement("img",{src:"/Sonrisa-users-app/images/phone.png",alt:"phone number",title:"phone number"}),"phone number: ",n.cell),r.a.createElement("p",null,r.a.createElement("img",{src:"/Sonrisa-users-app/images/email.png",alt:"email",title:"email"}),"email: ",n.email))))):r.a.createElement(O.a,{to:"/users"})}));var _=Object(l.b)((function(e){return{darkTheme:e.app.darkTheme}}),null)((function(e){return Object(O.g)(),r.a.createElement("div",{id:"content",className:"bg-".concat(e.darkTheme&&"secondary")},r.a.createElement(O.d,null,r.a.createElement(O.b,{path:"/users",exact:!0,component:y}),r.a.createElement(O.b,{path:"/subscriptions",exact:!0,component:j}),r.a.createElement(O.b,{path:"/filteredUsers",exact:!0,component:C}),r.a.createElement(O.b,{path:"/",exact:!0,component:y}),r.a.createElement(O.b,{path:"/users/:username",component:U}),r.a.createElement(O.b,{path:"/subscriptions/:username",component:U}),r.a.createElement(O.b,{path:"/filteredUsers/:username",component:U})))}));var R=Object(l.b)((function(e){return{darkTheme:e.app.darkTheme}}),null)((function(e){return r.a.createElement("div",{id:"footer"},r.a.createElement("nav",{className:"navbar navbar-".concat(!0===e.darkTheme?"dark":"light"," py-4 bg-").concat(!0===e.darkTheme?"dark":"light")},"Copyright 2020. Done With Love"))}));t(44);var x=function(){return r.a.createElement(E.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(S,null),r.a.createElement(_,null),r.a.createElement(R,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=Object(s.d)(p,Object(s.a)(o.a)),L=r.a.createElement(l.a,{store:D},r.a.createElement(x,null));window.store=D,Object(c.render)(L,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.be5af55f.chunk.js.map